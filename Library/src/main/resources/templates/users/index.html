<!DOCTYPE html SYSTEM "http://www.thymeleaf.org/dtd/xhtml1-strict-thymeleaf-spring4-4.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <title>Usuários</title>

</head>

<body>
<div class="navbar">
    <a href="/books">Livros</a>
    <a sec:authorize="hasRole('ROLE_ADMIN')" href="/users">Usuários</a>
    <a sec:authorize="hasRole('ROLE_ADMIN')" href="/rents/admin">Aluguéis</a>
    <a sec:authorize="hasRole('ROLE_USER')" href="/rents">Aluguéis</a>
    <a>Sair</a>
</div>
<div>
    <table>
        <thead>
        <tr>
            <th>ID</th>
            <th>Username</th>
            <th>Autoridade</th>
            <th>Excluir</th>
            <th></th>
            <th></th>
            <th></th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="userModel : ${users}">
            <td th:text="${userModel.id}">ID</td>
            <td th:text="${userModel.username}">username</td>
            <td th:text="${userModel.getAuthorities()[0].roleName}"></td>
            <td><a th:href="@{/users/{id}/delete(id = ${userModel.id})}">Excluir</a></td>
        </tr>
        </tbody>
    </table>
</div>
<a href="/users/new">Novo</a><br>
</body>
</html>